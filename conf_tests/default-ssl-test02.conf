<IfModule mod_ssl.c>
        <VirtualHost _default_:443>
                ServerAdmin webmaster@localhost

                DocumentRoot /var/www/html

                ErrorLog ${APACHE_LOG_DIR}/error.log
                CustomLog ${APACHE_LOG_DIR}/access.log combined

                #   SSL Engine Switch:
                #   Enable/Disable SSL for this virtual host.
                # --- TEST 02 "VULNERABLE" CONFIG ---
                SSLEngine on
                SSLCertificateFile      /etc/apache2/my_certs/test02_bad_cert.pem
                SSLCertificateKeyFile /etc/apache2/my_certs/test02_bad_key.pem

                # --- CONFIGURACIÓN DE SERVIDOR DÉBIL (PARA TODOS LOS TESTS) ---
                SSLEngine on

                # Débil: Permite TLS 1.0 y 1.1 (además de los nuevos)
                SSLProtocol         all -SSLv3

                # Débil: Ofrece cifrados CBC/SHA1 (además de los nuevos)
                SSLCipherSuite      'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:AES128-SHA:AES256-SHA:DES-CBC3-SHA'

                # --- Esta línea es la ÚNICA que cambiarás en cada test ---
                SSLCertificateFile      /etc/apache2/my_certs/cert_test02_sha1.pem
                SSLCertificateKeyFile /etc/apache2/my_certs/cert_test02_sha1.key

                # --- FIN DE LA MODIFICACIÓN TEST02 ---


                # El resto del archivo se deja por defecto
                
                <FilesMatch "\.(cgi|shtml|phtml|php)$">
                                SSLOptions +StdEnvVars
                </FilesMatch>
                <Directory /usr/lib/cgi-bin>
                                SSLOptions +StdEnvVars
                </Directory>

        </VirtualHost>
</IfModule>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet