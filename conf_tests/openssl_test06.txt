# Generate private key
sudo openssl genrsa -out cert_test06_notyetvalid.key 2048

# Generate certificate signing request (CSR)
sudo openssl req -new -key cert_test06_notyetvalid.key -out cert_test06.csr -subj "/CN=localhost" -addext "subjectAltName=DNS:localhost"

# Sign the certificate (valid from now)
sudo openssl x509 -req -in cert_test06.csr -signkey cert_test06_notyetvalid.key -out cert_test06_notyetvalid.pem -days 365

# Clean up CSR
sudo rm cert_test06.csr